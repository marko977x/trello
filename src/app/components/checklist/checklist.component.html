<div class="checklist" *ngIf="checklistItems$ | async as items">
  <div class="checklist-header">
    <div class="checklist-icon"><mat-icon svgIcon="check-box-icon"></mat-icon></div>
    <div class="header-content">
      <div><h3 class="header-title">Checklist</h3></div>
      <button mat-flat-button class="delete-button" (click)="deleteChecklist()">Delete</button>
    </div>
  </div>
  <div class="checklist-progress-bar">
    <div class="progress-percentage">{{calculateProgressPercentage()}}%</div>
    <div class="progress-bar"><mat-progress-bar mode="determinate" value="{{calculateProgressPercentage()}}"></mat-progress-bar></div>
  </div>
  <div 
    class="checklist-items"
    cdkDropList
    [cdkDropListData]="items"
    (cdkDropListDropped)="drop($event)">
      <app-checklist-item
        *ngFor="let item of items" [item]="item" cdkDrag class="checklist-item">
      </app-checklist-item>
    <button class="add-item-button" mat-flat-button>Add an item</button>
  </div>
</div>
